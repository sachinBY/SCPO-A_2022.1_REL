%dw 2.0
output application/java
---
if(vars.filterCondition != null)
	"select ORDERSKU.*,ITEM.UOM from ORDERSKU,ORDERHEADER,ITEM where ORDERSKU.ITEM = ITEM.ITEM AND ORDERSKU.ORDERID = ORDERHEADER.ORDERID" ++ " AND " ++ vars.filterCondition ++ " ORDER BY ORDERSKU.ORDERID,ORDERSKU.ITEM,ORDERSKU.DEST OFFSET " ++ vars.offset ++ " ROWS FETCH NEXT " ++ vars.next ++ " ROWS ONLY"
else	
	"select ORDERSKU.*,ITEM.UOM from ORDERSKU,ORDERHEADER,ITEM where ORDERSKU.ITEM = ITEM.ITEM AND ORDERSKU.ORDERID = ORDERHEADER.ORDERID" ++ " ORDER BY ORDERSKU.ORDERID,ORDERSKU.ITEM,ORDERSKU.DEST OFFSET " ++ vars.offset ++ " ROWS FETCH NEXT " ++ vars.next ++ " ROWS ONLY"
